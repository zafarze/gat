{# D:\GAT\templates\bank_questions\_table.html (–ü–û–õ–ù–ê–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø –° –ì–õ–ê–ó–ö–û–ú) #}
{% load custom_filters %} {# –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã #}

<div class="overflow-x-auto bg-white shadow-md rounded-lg">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –í–æ–ø—Ä–æ—Å (–Ω–∞—á–∞–ª–æ)
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –¢–µ–º–∞
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –ü—Ä–µ–¥–º–µ—Ç / –ö–ª–∞—Å—Å
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –°–ª–æ–∂–Ω–æ—Å—Ç—å
                </th>
                 <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –ê–≤—Ç–æ—Ä
                </th>
                <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                    –î–µ–π—Å—Ç–≤–∏—è
                </th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for item in items %} {# –¶–∏–∫–ª –ø–æ –æ–±—ä–µ–∫—Ç–∞–º BankQuestion #}
            <tr id="bank_question-row-{{ item.pk }}"> {# –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è —Å—Ç—Ä–æ–∫–∏ #}
                <td class="px-6 py-4">
                    <div class="flex items-center space-x-2">
                        {# --- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å --- #}
                        {% if item.question_image %}
                        <img src="{{ item.question_image.url }}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ –≤–æ–ø—Ä–æ—Å—É" class="h-10 w-10 object-cover rounded flex-shrink-0">
                        {% endif %}
                        {# --- –ö–æ–Ω–µ—Ü –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è --- #}
                        {# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—á–∞–ª–æ —Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞ #}
                        <span class="text-sm text-gray-900">{{ item.text|truncatechars:80 }}</span>
                    </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <div class="text-sm text-gray-900">{{ item.topic.name }}</div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <div class="text-sm text-gray-900">{{ item.subject.name }}</div>
                    <div class="text-xs text-gray-500">{{ item.school_class.name }} –∫–ª.</div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    {# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ #}
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                        {% if item.difficulty == 'EASY' %} bg-green-100 text-green-800
                        {% elif item.difficulty == 'MEDIUM' %} bg-yellow-100 text-yellow-800
                        {% else %} bg-red-100 text-red-800 {% endif %}">
                        {{ item.difficulty|format_difficulty }}
                    </span>
                </td>
                 <td class="px-6 py-4 whitespace-nowrap">
                    <div class="text-sm text-gray-500">{{ item.author.get_full_name|default:item.author.username|default:"N/A" }}</div>
                 </td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">

                    {# --- üëá –í–û–¢ –ö–ù–û–ü–ö–ê "–ü–†–û–°–ú–û–¢–†" (–ì–õ–ê–ó–û–ö) üëá --- #}
                    <button
                        {# –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ Alpine.js, –ø–µ—Ä–µ–¥–∞–≤–∞—è URL –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ #}
                        @click.prevent="$dispatch('open-preview-modal', { url: '{% url 'core:bank_question_preview' item.pk %}' })"
                        class="text-blue-600 hover:text-blue-900 inline-block align-middle" title="–ü—Ä–æ—Å–º–æ—Ç—Ä"> {# –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è #}
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    {# --- –ö–û–ù–ï–¶ –ö–ù–û–ü–ö–ò "–ü–†–û–°–ú–û–¢–†" --- #}

                    {# --- –ö–Ω–æ–ø–∫–∞ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å --- #}
                    <button
                        @click.prevent="$dispatch('open-modal', { url: '{% url edit_url item.pk %}' })"
                        class="text-indigo-600 hover:text-indigo-900 inline-block align-middle" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"> {# –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã #}
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                            <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
                        </svg>
                    </button>

                    {# --- –ö–Ω–æ–ø–∫–∞ –£–¥–∞–ª–∏—Ç—å --- #}
                    <button
                        @click.prevent="$dispatch('open-delete-modal', { url: '{% url delete_url item.pk %}' })"
                        class="text-red-600 hover:text-red-900 inline-block align-middle" title="–£–¥–∞–ª–∏—Ç—å"> {# –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã #}
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                        </svg>
                    </button>

                </td>
            </tr>
            {% empty %} {# –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—É—Å—Ç #}
            <tr>
                <td colspan="6" class="px-6 py-4 whitespace-nowrap text-center text-gray-500">
                    –ù–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{# --- –ü–∞–≥–∏–Ω–∞—Ü–∏—è --- #}
{# –í–∫–ª—é—á–∞–µ–º —à–∞–±–ª–æ–Ω –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, –µ—Å–ª–∏ –µ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
{% if page_obj %}
    {% include 'components/pagination.html' with page_obj=page_obj extra_params=request.GET.urlencode %}
{% endif %}